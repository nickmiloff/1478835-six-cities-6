{"version":3,"sources":["webpack:///./src/prop-types.prop.js","webpack:///./src/components/header/header.jsx","webpack:///./src/hocs/with-loading/with-loading.jsx","webpack:///./src/components/card/card.jsx","webpack:///./src/components/cards-list/cards-list.jsx","webpack:///./src/components/map/map.jsx","webpack:///./src/components/review/review.jsx","webpack:///./src/components/reviews-list/reviews-list.jsx","webpack:///./src/store/offer/selectors.js","webpack:///./src/store/offer/operations.js","webpack:///./src/components/review-form/review-form.jsx","webpack:///./src/components/reviews/reviews.jsx","webpack:///./src/components/offer-info/offer-info.jsx","webpack:///./src/components/near-places/near-places.jsx","webpack:///./src/components/pages/offer-page/offer-page.jsx"],"names":["offerPropTypes","images","PropTypes","arrayOf","string","isRequired","isPremium","bool","title","isFavorite","rating","number","type","bedrooms","maxAdults","price","goods","host","shape","avatarUrl","id","isPro","name","description","reviewPropTypes","comment","date","user","cardPropTypes","previewImage","city","authInfoPropTypes","email","styles","border","backgroundColor","Header","isAuth","onLogout","className","to","src","alt","width","height","style","backgroundImage","onClick","data-testid","propTypes","func","mapDispatchToProps","logout","compose","connect","state","getUser","withAuth","withLoading","Component","WithLoading","props","isLoaded","Statuses","LOAD","oneOf","Object","values","CARD_TYPES","main","articleClass","image","class","infoClass","favorites","offer","Card","cardType","onChnageActiveCardId","onFavoriteClick","cardTypeOptions","history","useHistory","onMouseEnter","onMouseLeave","push","xlinkHref","CardsList","cards","changeActiveCardIdHandler","React","useCallback","map","card","key","array","memo","MAP_TYPES","CITIES","Amsterdam","Paris","Cologne","Brussels","Hamburg","Dusseldorf","STYLE","INITIAL_SETTINGS","zoom","zoomControl","marker","ICON","leaflet","icon","iconUrl","iconSize","ACTIVE_ICON","setMarkers","activeCardId","forEach","lat","location","latitude","lon","longitude","addTo","removeMarkers","eachLayer","layer","Marker","remove","Map","activeLocation","useRef","currentCity","currentType","useEffect","current","center","tileLayer","attribution","flyTo","LatLng","JSON","stringify","ref","oneOfType","Review","dateTime","Date","toLocaleDateString","month","year","ReviewsList","reviews","review","getOffer","getNearby","nearby","slice","getReviews","getIsLoaded","loaded","getReviewIsLoaded","reviewLoaded","REVIEW_SIZING","ReviewForm","onSubmit","setRating","useState","setReview","useParams","LOADED","action","method","evt","preventDefault","htmlFor","Array","fill","_","index","Fragment","value","onChange","checked","disabled","placeholder","target","maxLength","length","ERROR","dispatch","_getState","api","actions","post","then","data","dataToComment","catch","finally","setTimeout","PENDING","Reviews","OfferInfo","mapPlaces","good","status","Number","dataToHotelCard","mainActions","NearPlaces","places","OfferPage","onComponentMount","params","Promise","all","get"],"mappings":"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","file":"3.bundle.js","sourcesContent":["import PropTypes from 'prop-types';\n\nexport const offerPropTypes = {\n  images: PropTypes.arrayOf(PropTypes.string.isRequired),\n  isPremium: PropTypes.bool.isRequired,\n  title: PropTypes.string.isRequired,\n  isFavorite: PropTypes.bool.isRequired,\n  rating: PropTypes.number.isRequired,\n  type: PropTypes.string.isRequired,\n  bedrooms: PropTypes.number.isRequired,\n  maxAdults: PropTypes.number.isRequired,\n  price: PropTypes.number.isRequired,\n  goods: PropTypes.arrayOf(PropTypes.string.isRequired),\n  host: PropTypes.shape({\n    avatarUrl: PropTypes.string.isRequired,\n    id: PropTypes.number.isRequired,\n    isPro: PropTypes.bool.isRequired,\n    name: PropTypes.string.isRequired\n  }),\n  description: PropTypes.string.isRequired\n};\n\nexport const reviewPropTypes = {\n  comment: PropTypes.string.isRequired,\n  date: PropTypes.string.isRequired,\n  id: PropTypes.number.isRequired,\n  rating: PropTypes.number.isRequired,\n  user: PropTypes.shape({\n    avatarUrl: PropTypes.string.isRequired,\n    id: PropTypes.number.isRequired,\n    isPro: PropTypes.bool.isRequired,\n    name: PropTypes.string.isRequired\n  })\n};\n\nexport const cardPropTypes = {\n  id: PropTypes.number.isRequired,\n  isFavorite: PropTypes.bool.isRequired,\n  isPremium: PropTypes.bool.isRequired,\n  previewImage: PropTypes.string.isRequired,\n  price: PropTypes.number.isRequired,\n  rating: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  city: PropTypes.shape({\n    name: PropTypes.string.isRequired\n  })\n};\n\nexport const authInfoPropTypes = {\n  avatarUrl: PropTypes.string.isRequired,\n  email: PropTypes.string.isRequired,\n  id: PropTypes.number.isRequired,\n  isPro: PropTypes.bool.isRequired,\n  name: PropTypes.string.isRequired\n};\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport {compose} from 'redux';\nimport PropTypes from 'prop-types';\nimport {Link} from 'react-router-dom';\nimport {authInfoPropTypes} from '../../prop-types.prop';\nimport {getUser} from '../../store/app/selectors';\nimport {logout} from '../../store/app/operations';\nimport withAuth from '../../hocs/with-auth/with-auth';\n\nconst styles = {\n  border: `none`,\n  backgroundColor: `transparent`\n};\n\nconst Header = ({isAuth, user, onLogout}) => {\n  return (\n    <header className=\"header\">\n      <div className=\"container\">\n        <div className=\"header__wrapper\">\n          <div className=\"header__left\">\n            <Link className=\"header__logo-link header__logo-link--active\" to=\"/\">\n              <img className=\"header__logo\" src=\"img/logo.svg\" alt=\"6 cities logo\" width=\"81\" height=\"41\" />\n            </Link>\n          </div>\n          <nav className=\"header__nav\">\n            <ul className=\"header__nav-list\">\n              <li className=\"header__nav-item user\">\n                <Link className=\"header__nav-link header__nav-link--profile\" to={isAuth && `/favorites` || `/login`}>\n                  <div\n                    className=\"header__avatar-wrapper user__avatar-wrapper\"\n                    style={isAuth && {backgroundImage: user.avatarUrl} || {}}></div>\n                  <span className={isAuth && `header__user-name user__name` || `header__login`}>{isAuth && user.email || `Sign in`}</span>\n                </Link>\n              </li>\n              {isAuth &&\n                <li className=\"header__nav-item user\">\n                  <button\n                    className=\"header__nav-link header__nav-link--profile\"\n                    style={styles}\n                    onClick={() => onLogout()}\n                    data-testid=\"logout\">\n                    <span className=\"header__login\">Logout</span>\n                  </button>\n                </li>\n              }\n            </ul>\n          </nav>\n        </div>\n      </div>\n    </header>\n  );\n};\n\nHeader.propTypes = {\n  isAuth: PropTypes.bool.isRequired,\n  user: PropTypes.shape(authInfoPropTypes),\n  onLogout: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n  user: getUser(state)\n});\n\nconst mapDispatchToProps = {\n  onLogout: logout\n};\n\nexport default compose(\n    connect(mapStateToProps, mapDispatchToProps),\n    withAuth\n)(Header);\nexport {\n  Header as PureHeader\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Spinner from '../../components/spiner/spiner';\nimport {Statuses} from '../../services/load-statuses';\n\nconst withLoading = (Component) => {\n  const WithLoading = (props) => {\n    return (\n      <>\n        {props.isLoaded === Statuses.LOAD && <Spinner />}\n        <Component {...props} />\n      </>\n    );\n  };\n\n  WithLoading.propTypes = {\n    isLoaded: PropTypes.oneOf([...Object.values(Statuses)]).isRequired\n  };\n\n  return WithLoading;\n};\n\nexport default withLoading;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Link, useHistory} from 'react-router-dom';\nimport withAuth from '../../hocs/with-auth/with-auth';\nimport {cardPropTypes} from '../../prop-types.prop';\n\nconst RATING_PER_STAR = 20;\nconst CARD_TYPES = {\n  main: {\n    articleClass: `cities__place-card `,\n    image: {\n      class: `cities`,\n      width: 260,\n      height: 200\n    },\n    infoClass: ``\n  },\n  favorites: {\n    articleClass: `favorites__card `,\n    image: {\n      class: `favorites`,\n      width: 150,\n      height: 110\n    },\n    infoClass: `favorites__card-info `\n  },\n  offer: {\n    articleClass: `near-places__card `,\n    image: {\n      class: `near-places`,\n      width: 260,\n      height: 200\n    },\n    infoClass: ``\n  }\n};\n\nconst Card = ({isPremium, previewImage, price, isFavorite, rating, title, id, type, cardType, onChnageActiveCardId, onFavoriteClick, isAuth}) => {\n  const cardTypeOptions = CARD_TYPES[cardType];\n  const history = useHistory();\n\n  return (\n    <article\n      className={`${cardTypeOptions.articleClass}place-card`}\n      onMouseEnter={() => {\n        onChnageActiveCardId(id);\n      }}\n      onMouseLeave={() => {\n        onChnageActiveCardId(null);\n      }}>\n      {isPremium && <div className=\"place-card__mark\"><span>Premium</span></div> || ``}\n      <div className={`${cardTypeOptions.image.class}__image-wrapper place-card__image-wrapper`}>\n        <Link to={`/offer/${id}`}>\n          <img\n            className=\"place-card__image\"\n            src={previewImage}\n            width={cardTypeOptions.image.width}\n            height={cardTypeOptions.image.height}\n            alt=\"Place image\" />\n        </Link>\n      </div>\n      <div className={`${cardTypeOptions.infoClass}place-card__info`}>\n        <div className=\"place-card__price-wrapper\">\n          <div className=\"place-card__price\">\n            <b className=\"place-card__price-value\">&euro;{price}</b>\n            <span className=\"place-card__price-text\">&#47;&nbsp;night</span>\n          </div>\n          <button\n            className={`place-card__bookmark-button button${isFavorite && ` place-card__bookmark-button--active` || ``}`}\n            type=\"button\"\n            onClick={() => isAuth ? onFavoriteClick(id, !isFavorite) : history.push(`/login`)}\n            data-testid=\"to-bookmarks-button\">\n            <svg className=\"place-card__bookmark-icon\" width=\"18\" height=\"19\">\n              <use xlinkHref=\"#icon-bookmark\"></use>\n            </svg>\n            <span className=\"visually-hidden\">To bookmarks</span>\n          </button>\n        </div>\n        <div className=\"place-card__rating rating\">\n          <div className=\"place-card__stars rating__stars\">\n            <span style={{width: `${RATING_PER_STAR * rating}%`}}></span>\n            <span className=\"visually-hidden\">Rating</span>\n          </div>\n        </div>\n        <h2 className=\"place-card__name\">\n          <Link to={`/offer/${id}`}>{title}</Link>\n        </h2>\n        <p className=\"place-card__type\">{type}</p>\n      </div>\n    </article>\n  );\n};\n\nCard.propTypes = {\n  ...cardPropTypes,\n  onChnageActiveCardId: PropTypes.func.isRequired,\n  onFavoriteClick: PropTypes.func.isRequired,\n  isAuth: PropTypes.bool.isRequired\n};\n\nexport default withAuth(Card);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Card from '../card/card';\n\nconst CARD_TYPES = {\n  main: `cities__places-list places__list tabs__content`,\n  favorites: `favorites__places`,\n  offer: `near-places__list places__list`\n};\n\nconst CardsList = ({cards, cardType, onChnageActiveCardId = () => {}, onFavoriteClick}) => {\n  const changeActiveCardIdHandler = React.useCallback((id) => onChnageActiveCardId(id), []);\n\n  return (\n    <div className={CARD_TYPES[cardType]}>\n      {cards.map((card) =>\n        <Card\n          cardType={cardType}\n          key={card.id}\n          onChnageActiveCardId={changeActiveCardIdHandler}\n          onFavoriteClick={onFavoriteClick}\n          {...card} />)}\n    </div>\n  );\n};\n\nCardsList.propTypes = {\n  cards: PropTypes.array.isRequired,\n  cardType: PropTypes.string.isRequired,\n  onChnageActiveCardId: PropTypes.func,\n  onFavoriteClick: PropTypes.func.isRequired\n};\n\nexport default React.memo(CardsList);\n","import React, {useEffect, useRef} from 'react';\nimport PropTypes from 'prop-types';\nimport leaflet from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport {cardPropTypes} from '../../prop-types.prop';\n\nconst MAP_TYPES = {\n  main: `cities__map`,\n  offer: `property__map`\n};\n\nconst CITIES = {\n  Amsterdam: [52.3833, 4.9044],\n  Paris: [48.8589, 2.3469],\n  Cologne: [50.9293, 6.9595],\n  Brussels: [50.8552, 4.3453],\n  Hamburg: [53.5503, 10.0006],\n  Dusseldorf: [51.2287, 6.7743]\n};\n\nconst STYLE = {\n  width: `100%`,\n  height: `100%`\n};\n\nconst INITIAL_SETTINGS = {\n  zoom: 12,\n  zoomControl: false,\n  marker: true\n};\n\nconst ICON = leaflet.icon({\n  iconUrl: `img/pin.svg`,\n  iconSize: [30, 30]\n});\n\nconst ACTIVE_ICON = leaflet.icon({\n  iconUrl: `img/pin-active.svg`,\n  iconSize: [30, 30]\n});\n\nconst setMarkers = (map, cards, activeCardId) => {\n  cards.forEach((card) => {\n    leaflet\n      .marker({\n        lat: card.location.latitude,\n        lon: card.location.longitude\n      }, {icon: card.id === activeCardId ? ACTIVE_ICON : ICON})\n      .addTo(map);\n  });\n};\n\nconst removeMarkers = (map) => {\n  map.eachLayer(function (layer) {\n    if (layer instanceof leaflet.Marker) {\n      layer.remove();\n    }\n  });\n};\n\nconst Map = ({activeLocation, cards, activeCardId, type}) => {\n  const map = useRef();\n  const currentCity = CITIES[activeLocation] || activeLocation;\n  const currentType = MAP_TYPES[type];\n\n  useEffect(() => {\n    map.current = leaflet.map(`map`, {\n      center: currentCity,\n      ...INITIAL_SETTINGS\n    });\n\n    leaflet\n      .tileLayer(`https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png`, {\n        attribution: `&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>`\n      })\n      .addTo(map.current);\n\n    setMarkers(map.current, cards, activeCardId);\n\n    return () => {\n      map.current.remove();\n    };\n  }, []);\n\n  useEffect(() => {\n    map.current.flyTo(new leaflet.LatLng(...currentCity), INITIAL_SETTINGS.zoom);\n    removeMarkers(map.current);\n    setMarkers(map.current, cards, activeCardId);\n  }, [JSON.stringify(cards)]);\n\n  useEffect(() => {\n    removeMarkers(map.current);\n    setMarkers(map.current, cards, activeCardId);\n  }, [activeCardId]);\n\n  return (\n    <section className={`${currentType} map`}>\n      <div id=\"map\" style={STYLE} ref={map}></div>\n    </section>\n  );\n};\n\nMap.propTypes = {\n  activeLocation: PropTypes.oneOfType([PropTypes.array, PropTypes.string]).isRequired,\n  cards: PropTypes.arrayOf(PropTypes.shape(cardPropTypes)),\n  activeCardId: PropTypes.number,\n  type: PropTypes.string.isRequired\n};\n\nexport default React.memo(Map);\n","import React from 'react';\nimport {reviewPropTypes} from '../../prop-types.prop';\n\nconst RATING_PER_STAR = 20;\n\nconst Review = ({comment, date, rating, user}) => {\n  return (\n    <li className=\"reviews__item\">\n      <div className=\"reviews__user user\">\n        <div className=\"reviews__avatar-wrapper user__avatar-wrapper\">\n          <img className=\"reviews__avatar user__avatar\" src={user.avatarUrl} width=\"54\" height=\"54\" alt=\"Reviews avatar\" />\n        </div>\n        <span className=\"reviews__user-name\">\n          {user.name}\n        </span>\n      </div>\n      <div className=\"reviews__info\">\n        <div className=\"reviews__rating rating\">\n          <div className=\"reviews__stars rating__stars\">\n            <span style={{width: `${RATING_PER_STAR * rating}%`}}></span>\n            <span className=\"visually-hidden\">Rating</span>\n          </div>\n        </div>\n        <p className=\"reviews__text\">\n          {comment}\n        </p>\n        <time className=\"reviews__time\" dateTime={date}>{new Date(date).toLocaleDateString(`en-EU`, {month: `long`, year: `numeric`})}</time>\n      </div>\n    </li>\n  );\n};\n\nReview.propTypes = reviewPropTypes;\n\nexport default Review;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Review from '../review/review';\n\nconst ReviewsList = ({reviews}) => {\n  return (\n    <ul className=\"reviews__list\">\n      {reviews.map((review) => <Review key={review.id} {...review} />)}\n    </ul>\n  );\n};\n\nReviewsList.propTypes = {\n  reviews: PropTypes.array.isRequired\n};\n\nexport default ReviewsList;\n","export const getOffer = (state) => state.offer.offer;\nexport const getNearby = (state) => state.offer.nearby.slice(0, 3);\nexport const getReviews = (state) => state.offer.reviews.slice(0, 10);\nexport const getIsLoaded = (state) => state.offer.loaded;\nexport const getReviewIsLoaded = (state) => state.offer.reviewLoaded;\n","import * as actions from './actions';\nimport * as mainActions from '../main/actions';\nimport {Statuses} from '../../services/load-statuses';\nimport {dataToHotelCard, dataToComment} from '../../services/adapters';\n\nconst ERROR_TIMEOUT = 5000;\n\nexport const loadOffer = (id) => (dispatch, _getState, api) => {\n  dispatch(actions.setLoaded(Statuses.LOAD));\n  return Promise.all([\n    api.get(`hotels/${id}`),\n    api.get(`hotels/${id}/nearby`),\n    api.get(`comments/${id}`)\n  ])\n    .then(([offer, nearby, reviews]) => {\n      dispatch(actions.setOffer(dataToHotelCard(offer.data)));\n      dispatch(actions.setNearby(nearby.data.map(dataToHotelCard)));\n      dispatch(actions.setReviews(reviews.data.map(dataToComment)));\n      dispatch(actions.setLoaded(Statuses.LOADED));\n    })\n    .catch(() => {\n      dispatch(actions.setLoaded(Statuses.ERROR));\n    });\n};\n\nexport const sendComment = (id, comment, rating) => (dispatch, _getState, api) => {\n  dispatch(actions.setReviewLoaded(Statuses.LOAD));\n  return api.post(`comments/${id}`, {comment, rating})\n    .then(({data}) => {\n      dispatch(actions.setReviews(data.map(dataToComment)));\n      dispatch(actions.setReviewLoaded(Statuses.LOADED));\n    })\n    .catch(() => {\n      dispatch(actions.setReviewLoaded(Statuses.ERROR));\n    })\n    .finally(() => {\n      setTimeout(() => dispatch(actions.setReviewLoaded(Statuses.PENDING)), ERROR_TIMEOUT);\n    });\n};\n\nexport const changeFavorite = (id, status) => (dispatch, _getState, api) => {\n  return api.post(`favorite/${id}/${Number(status)}`)\n    .then(({data}) => {\n      dispatch(actions.setOffer(dataToHotelCard(data)));\n      dispatch(mainActions.changeCard(dataToHotelCard(data)));\n    })\n    .catch(() => {\n      dispatch(actions.setLoaded(Statuses.ERROR));\n    });\n};\n\nexport const changeNearbyFavorite = (id, status) => (dispatch, _getState, api) => {\n  return api.post(`favorite/${id}/${Number(status)}`)\n    .then(({data}) => {\n      dispatch(actions.changeNearby(dataToHotelCard(data)));\n      dispatch(mainActions.changeCard(dataToHotelCard(data)));\n    })\n    .catch(() => {\n      dispatch(actions.setLoaded(Statuses.ERROR));\n    });\n};\n","import React, {useEffect, useState} from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {useParams} from 'react-router-dom';\nimport {getReviewIsLoaded} from '../../store/offer/selectors';\nimport {sendComment} from '../../store/offer/operations';\nimport {Statuses} from '../../services/load-statuses';\n\nconst STARS_COUNT = 5;\nconst REVIEW_SIZING = {\n  min: 50,\n  max: 300\n};\n\nconst ReviewForm = ({onSubmit, isLoaded}) => {\n  const [rating, setRating] = useState(null);\n  const [review, setReview] = useState(``);\n  const {id} = useParams();\n\n  useEffect(() => {\n    if (isLoaded === Statuses.LOADED) {\n      setRating(null);\n      setReview(``);\n    }\n  }, [isLoaded]);\n\n  return (\n    <form\n      className=\"reviews__form form\"\n      action=\"#\"\n      method=\"post\"\n      onSubmit={(evt) => {\n        evt.preventDefault();\n        onSubmit(id, review, rating);\n      }}\n      data-testid=\"form\">\n      <label className=\"reviews__label form__label\" htmlFor=\"review\">Your review</label>\n      <div className=\"reviews__rating-form form__rating\">\n        {Array(5).fill(``).map((_, index) =>\n          <React.Fragment key={`rating-star-${index}`}>\n            <input\n              className=\"form__rating-input visually-hidden\"\n              name=\"rating\"\n              value={STARS_COUNT - index}\n              id={`${STARS_COUNT - index}-stars`}\n              type=\"radio\"\n              onChange={() => {\n                setRating(() => STARS_COUNT - index);\n              }}\n              checked={rating === STARS_COUNT - index}\n              disabled={isLoaded === Statuses.LOAD} />\n            <label htmlFor={`${STARS_COUNT - index}-stars`} className=\"reviews__rating-label form__rating-label\" title=\"perfect\">\n              <svg className=\"form__star-image\" width=\"37\" height=\"33\">\n                <use xlinkHref=\"#icon-star\"></use>\n              </svg>\n            </label>\n          </React.Fragment>\n        )}\n      </div>\n      <textarea\n        className=\"reviews__textarea form__textarea\"\n        id=\"review\"\n        name=\"review\"\n        placeholder=\"Tell how was your stay, what you like and what can be improved\"\n        value={review}\n        onChange={(evt) => {\n          setReview(evt.target.value);\n        }}\n        maxLength={REVIEW_SIZING.max}\n        disabled={isLoaded === Statuses.LOAD}\n        data-testid=\"review\"></textarea>\n      <div className=\"reviews__button-wrapper\">\n        <p className=\"reviews__help\">\n          To submit review please make sure to set <span className=\"reviews__star\">rating</span> and describe your stay with at least <b className=\"reviews__text-amount\">50 characters</b>.\n        </p>\n        <button\n          className=\"reviews__submit form__submit button\"\n          type=\"submit\"\n          disabled={rating === null || review.length < REVIEW_SIZING.min || isLoaded === Statuses.LOAD}>Submit</button>\n      </div>\n      {isLoaded === Statuses.ERROR && <div className=\"form__error\"><span>Oups... Review sending error!</span></div>}\n    </form>\n  );\n};\n\nReviewForm.propTypes = {\n  isLoaded: PropTypes.oneOf([...Object.values(Statuses)]).isRequired,\n  onSubmit: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n  isLoaded: getReviewIsLoaded(state)\n});\n\nconst mapDispatchToProps = {\n  onSubmit: sendComment\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ReviewForm);\nexport {\n  ReviewForm as PureReviewForm\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ReviewsList from '../reviews-list/reviews-list';\nimport ReviewForm from '../review-form/review-form';\n\nconst Reviews = ({reviews, isAuth}) => {\n  return (\n    <section className=\"property__reviews reviews\">\n      <h2 className=\"reviews__title\">Reviews &middot; <span className=\"reviews__amount\">{reviews.length}</span></h2>\n      <ReviewsList reviews={reviews} />\n      {isAuth && <ReviewForm /> || ``}\n    </section>\n  );\n};\n\nReviews.propTypes = {\n  reviews: PropTypes.array.isRequired,\n  isAuth: PropTypes.bool.isRequired\n};\n\nexport default React.memo(Reviews);\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport {compose} from 'redux';\nimport PropTypes from 'prop-types';\nimport {useHistory} from 'react-router-dom';\nimport {offerPropTypes} from '../../prop-types.prop';\nimport Reviews from '../reviews/reviews';\nimport Map from '../map/map';\nimport withAuth from '../../hocs/with-auth/with-auth';\nimport {changeFavorite} from '../../store/offer/operations';\n\nconst RATING_PER_STAR = 20;\n\nconst OfferInfo = ({offer, reviews, mapPlaces, onFavoriteClick, isAuth}) => {\n  const {images, isPremium, title, isFavorite, rating, type, bedrooms, maxAdults, price, goods, host, description, id, location} = offer;\n  const history = useHistory();\n\n  return (\n    <section className=\"property\">\n      <div className=\"property__gallery-container container\">\n        <div className=\"property__gallery\">\n          {images.slice(0, 6).map((image, index) => (\n            <div className=\"property__image-wrapper\" key={`property-image-${index}`}>\n              <img className=\"property__image\" src={image} alt=\"Photo studio\" />\n            </div>\n          ))}\n        </div>\n      </div>\n      <div className=\"property__container container\">\n        <div className=\"property__wrapper\">\n          {isPremium && <div className=\"property__mark\"><span>Premium</span></div> || ``}\n          <div className=\"property__name-wrapper\">\n            <h1 className=\"property__name\">\n              {title}\n            </h1>\n            <button\n              className={`property__bookmark-button button${isFavorite && ` property__bookmark-button--active` || ``}`}\n              type=\"button\"\n              onClick={() => isAuth ? onFavoriteClick(id, !isFavorite) : history.push(`/login`)}\n              data-testid=\"to-bookmarks\">\n              <svg className=\"property__bookmark-icon\" width=\"31\" height=\"33\">\n                <use xlinkHref=\"#icon-bookmark\"></use>\n              </svg>\n              <span className=\"visually-hidden\">To bookmarks</span>\n            </button>\n          </div>\n          <div className=\"property__rating rating\">\n            <div className=\"property__stars rating__stars\">\n              <span style={{width: `${RATING_PER_STAR * rating}%`}}></span>\n              <span className=\"visually-hidden\">Rating</span>\n            </div>\n            <span className=\"property__rating-value rating__value\">{rating}</span>\n          </div>\n          <ul className=\"property__features\">\n            <li className=\"property__feature property__feature--entire\">\n              {type}\n            </li>\n            <li className=\"property__feature property__feature--bedrooms\">\n              {bedrooms} Bedrooms\n            </li>\n            <li className=\"property__feature property__feature--adults\">\n              Max {maxAdults} adults\n            </li>\n          </ul>\n          <div className=\"property__price\">\n            <b className=\"property__price-value\">&euro;{price}</b>\n            <span className=\"property__price-text\">&nbsp;night</span>\n          </div>\n          <div className=\"property__inside\">\n            <h2 className=\"property__inside-title\">What&apos;s inside</h2>\n            <ul className=\"property__inside-list\">\n              {goods.map((good, index) => (\n                <li className=\"property__inside-item\" key={`property-good-${index}`}>\n                  {good}\n                </li>\n              ))}\n            </ul>\n          </div>\n          <div className=\"property__host\">\n            <h2 className=\"property__host-title\">Meet the host</h2>\n            <div className=\"property__host-user user\">\n              <div className={`property__avatar-wrapper user__avatar-wrapper${host.isPro && ` property__avatar-wrapper--pro` || ``}`}>\n                <img className=\"property__avatar user__avatar\" src={host.avatarUrl} width=\"74\" height=\"74\" alt=\"Host avatar\" />\n              </div>\n              <span className=\"property__user-name\">\n                {host.name}\n              </span>\n            </div>\n            <div className=\"property__description\">\n              <p className=\"property__text\">\n                {description}\n              </p>\n            </div>\n          </div>\n          <Reviews reviews={reviews} isAuth={isAuth} />\n        </div>\n      </div>\n      <Map cards={[...mapPlaces, offer]} activeLocation={[location.latitude, location.longitude]} activeCardId={id} type=\"offer\" />\n    </section>\n  );\n};\n\nconst SemiPureOfferInfo = withAuth(OfferInfo);\n\nOfferInfo.propTypes = {\n  offer: PropTypes.shape(offerPropTypes).isRequired,\n  reviews: PropTypes.array.isRequired,\n  mapPlaces: PropTypes.array.isRequired,\n  isAuth: PropTypes.bool.isRequired,\n  onFavoriteClick: PropTypes.func.isRequired\n};\n\nconst mapDispatchToProps = {\n  onFavoriteClick: changeFavorite\n};\n\nexport default compose(\n    connect(null, mapDispatchToProps),\n    withAuth\n)(OfferInfo);\nexport {\n  SemiPureOfferInfo\n};\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport CardsList from '../cards-list/cards-list';\nimport {changeNearbyFavorite} from '../../store/offer/operations';\n\nconst NearPlaces = ({places, onFavoriteClick}) => {\n  return (\n    <section className=\"near-places places\">\n      <h2 className=\"near-places__title\">Other places in the neighbourhood</h2>\n      <CardsList cards={places} cardType=\"offer\" onFavoriteClick={onFavoriteClick} />\n    </section>\n  );\n};\n\nNearPlaces.propTypes = {\n  places: PropTypes.array.isRequired,\n  onFavoriteClick: PropTypes.func.isRequired\n};\n\nconst mapDispatchToProps = {\n  onFavoriteClick: changeNearbyFavorite\n};\n\nexport default connect(null, mapDispatchToProps)(NearPlaces);\n","import React, {useEffect} from 'react';\nimport {compose} from 'redux';\nimport {connect} from 'react-redux';\nimport {useParams} from 'react-router';\nimport PropTypes from 'prop-types';\nimport {offerPropTypes} from '../../../prop-types.prop';\nimport Header from '../../header/header';\nimport OfferInfo from '../../offer-info/offer-info';\nimport NearPlaces from '../../near-places/near-places';\nimport {getIsLoaded, getNearby, getOffer, getReviews} from '../../../store/offer/selectors';\nimport {loadOffer} from '../../../store/offer/operations';\nimport withLoading from '../../../hocs/with-loading/with-loading';\n\nconst OfferPage = ({offer, nearby, reviews, onComponentMount}) => {\n  const params = useParams();\n\n  useEffect(() => {\n    onComponentMount(params.id);\n  }, [params.id]);\n\n  return (\n    <div className=\"page\">\n      <Header />\n      <main className=\"page__main page__main--property\">\n        <OfferInfo offer={offer} reviews={reviews} mapPlaces={nearby} />\n        <div className=\"container\">\n          <NearPlaces places={nearby} />\n        </div>\n      </main>\n    </div>\n  );\n};\n\nOfferPage.propTypes = {\n  offer: PropTypes.shape(offerPropTypes).isRequired,\n  nearby: PropTypes.array.isRequired,\n  reviews: PropTypes.array.isRequired,\n  onComponentMount: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n  offer: getOffer(state),\n  nearby: getNearby(state),\n  reviews: getReviews(state),\n  isLoaded: getIsLoaded(state)\n});\n\nconst mapDispatchToProps = {\n  onComponentMount: loadOffer\n};\n\nexport default compose(\n    connect(mapStateToProps, mapDispatchToProps),\n    withLoading\n)(OfferPage);\n"],"sourceRoot":""}